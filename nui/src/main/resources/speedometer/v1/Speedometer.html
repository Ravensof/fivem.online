<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="style.css">
	<title>Document</title>
</head>
<body>
<!--<div class="speedometer">-->
<!--<div class="arrow-speedometer" id="speedometer"></div>-->
<!--<div class="arrow-tachometer" id="tachometer"></div>-->
<!--</div>    -->
<div id="speedometer">
	<div style="display:none;">
		<img src="arrow-speedometer.svg" id="speedometer_arrow">
		<img src="arrow-tachometer.svg" id="tachometer_arrow">
	</div>
	<canvas id="speedometer_canvas" width="440" height="212"></canvas>
</div>

<script>

	let canvas = window.document.getElementById("speedometer_canvas");
	let speedometer = window.document.getElementById("speedometer_arrow");
	let tachometer = window.document.getElementById("tachometer_arrow");

	let context = canvas.getContext("2d");
	let TO_RADIANS = Math.PI / 180;

	function drawRotatedImage(image, x, y, angle, rotatePointX, rotatePointY) {

		context.save();

		context.translate(x, y);

		context.rotate(angle * TO_RADIANS);

		context.drawImage(image, -rotatePointX, -rotatePointY);

		context.restore();
	}

	function drawSpeedo(speed, rpm, turbo = null) {

		context.clearRect(0, 0, canvas.width, canvas.height);

		drawRotatedImage(tachometer, 105, 102, rpm, tachometer.width / 2, 17.02);
		drawRotatedImage(speedometer, 291, 182, speed, 148, speedometer.height / 2);
	}

	drawSpeedo(0, 0);
	drawSpeedo(20, 20);
	drawSpeedo(30, 30);

</script>
</body>
</html>